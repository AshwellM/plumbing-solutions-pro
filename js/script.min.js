let hamburger=document.querySelector(".hamburger"),navMenu=document.querySelector(".nav-menu"),quoteForm=(hamburger.addEventListener("click",()=>{hamburger.classList.toggle("active"),navMenu.classList.toggle("active")}),document.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",()=>{hamburger.classList.remove("active"),navMenu.classList.remove("active")})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t,e=document.querySelector(this.getAttribute("href"));e&&(t=document.querySelector(".header").offsetHeight,e=e.offsetTop-t,window.scrollTo({top:e,behavior:"smooth"}))})}),window.addEventListener("scroll",()=>{var e=document.querySelector(".header");100<window.scrollY?e.style.background="rgba(255, 255, 255, 0.98)":e.style.background="rgba(255, 255, 255, 0.95)"}),document.getElementById("quote-form")),contactForm=document.getElementById("contact-form"),observerOptions=(quoteForm&&quoteForm.addEventListener("submit",function(e){e.preventDefault();e=new FormData(this);Object.fromEntries(e);let t=this.querySelector('button[type="submit"]'),o=t.textContent;t.textContent="Sending...",t.disabled=!0,setTimeout(()=>{this.reset(),t.textContent=o,t.disabled=!1},1e3)}),contactForm&&contactForm.addEventListener("submit",function(e){e.preventDefault();e=new FormData(this);Object.fromEntries(e);let t=this.querySelector('button[type="submit"]'),o=t.textContent;t.textContent="Sending...",t.disabled=!0,setTimeout(()=>{this.reset(),t.textContent=o,t.disabled=!1},1e3)}),{threshold:.1,rootMargin:"0px 0px -50px 0px"}),observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},observerOptions);function formatPhoneNumber(e){let t=e.value.replace(/\D/g,"");3<=t.length&&(t.startsWith("0")?t=t.replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3"):t.startsWith("27")&&(t=t.replace(/(\d{2})(\d{2})(\d{3})(\d{4})/,"+$1 $2 $3 $4"))),e.value=t}function validateForm(e){var t=e.querySelectorAll("[required]");let o=!0;return t.forEach(e=>{e.value.trim()?e.style.borderColor="#e5e7eb":(e.style.borderColor="#dc2626",o=!1)}),e.querySelectorAll('input[type="email"]').forEach(e=>{e.value&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)&&(e.style.borderColor="#dc2626",o=!1)}),o}if(document.querySelectorAll(".service-card, .feature-item, .contact-item, .area-item").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",observer.observe(e)}),document.querySelectorAll('input[type="tel"]').forEach(e=>{e.addEventListener("input",()=>formatPhoneNumber(e))}),[quoteForm,contactForm].forEach(e=>{e&&e.addEventListener("submit",function(e){validateForm(this)||(e.preventDefault(),alert("Please fill in all required fields correctly."))})}),"IntersectionObserver"in window){let o=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&((e=e.target).src=e.dataset.src||e.src,e.classList.remove("lazy"),o.unobserve(e))})});document.querySelectorAll('img[loading="lazy"]').forEach(e=>{o.observe(e)})}let backToTopBtn=document.createElement("button"),style=(backToTopBtn.innerHTML='<i class="fas fa-arrow-up"></i>',backToTopBtn.className="back-to-top",backToTopBtn.style.cssText=`
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
    background: #dc2626;
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    z-index: 1000;
    box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3);
`,document.body.appendChild(backToTopBtn),window.addEventListener("scroll",()=>{500<window.scrollY?(backToTopBtn.style.opacity="1",backToTopBtn.style.visibility="visible"):(backToTopBtn.style.opacity="0",backToTopBtn.style.visibility="hidden")}),backToTopBtn.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),document.querySelectorAll(".area-item").forEach(e=>{e.addEventListener("mouseenter",function(){this.style.background="linear-gradient(135deg, #dc2626, #b91c1c)",this.style.color="white"}),e.addEventListener("mouseleave",function(){this.style.background="white",this.style.color="#1f2937"})}),document.querySelectorAll(".btn").forEach(e=>{e.addEventListener("click",function(){if("submit"===this.type){this.style.position="relative",this.style.overflow="hidden";let e=document.createElement("span");e.style.cssText=`
                position: absolute;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.3);
                transform: scale(0);
                animation: ripple 0.6s linear;
                pointer-events: none;
            `;var t=this.getBoundingClientRect(),o=Math.max(t.width,t.height);e.style.width=e.style.height=o+"px",e.style.left=t.width/2-o/2+"px",e.style.top=t.height/2-o/2+"px",this.appendChild(e),setTimeout(()=>{e.remove()},600)}})}),document.createElement("style"));style.textContent=`
    @keyframes ripple {
        to {
            transform: scale(4);
            opacity: 0;
        }
    }
    
    .nav-menu.active {
        display: flex;
        flex-direction: column;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        padding: 1rem;
        gap: 1rem;
    }
    
    .hamburger.active span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
    }
    
    .hamburger.active span:nth-child(2) {
        opacity: 0;
    }
    
    .hamburger.active span:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -6px);
    }
    
    @media (max-width: 768px) {
        .nav-menu {
            display: none;
        }
        
        .nav-contact {
            display: none;
        }
    }
`,document.head.appendChild(style),document.addEventListener("DOMContentLoaded",function(){console.log("Plumbing Solutions Pro website loaded successfully!");let e=document.querySelector(".hero-content");e&&(e.style.opacity="0",e.style.transform="translateY(50px)",setTimeout(()=>{e.style.transition="opacity 1s ease, transform 1s ease",e.style.opacity="1",e.style.transform="translateY(0)"},300))});